{"version":3,"sources":["./src/app/pages/home/resources/resources-list/resources-list.page.html","./src/app/pages/home/resources/resources-list/resources-list-routing.module.ts","./src/app/pages/home/resources/resources-list/resources-list.module.ts","./src/app/pages/home/resources/resources-list/resources-list.page.scss","./src/app/pages/home/resources/resources-list/resources-list.page.ts"],"names":[],"mappings":"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","file":"resources-list-resources-list-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"wellness\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"tablinks/resources\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Recursos Por Tema</ion-title>\\n    <ion-buttons slot=\\\"primary\\\">\\n      <ion-button (click)=\\\"loadData()\\\">\\n        <ion-icon name=\\\"sync\\\" slot=\\\"icon-only\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <ion-grid class=\\\"ion-no-padding\\\">\\n    <ion-row>\\n      <ion-col class=\\\"ion-text-center grid-title\\\">\\n        <ion-text color=\\\"wellness\\\">Tema: {{ topic?.name }}</ion-text>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col class=\\\"ion-text-center ion-padding\\\" *ngIf=\\\"isLoading; else loaded\\\">\\n        <ion-spinner></ion-spinner>\\n      </ion-col>\\n      <ng-template #loaded>\\n        <ion-col size=\\\"12\\\">\\n          <ion-list>\\n            <ion-item lines=\\\"full\\\" *ngIf=\\\"resources.length <= 0\\\">\\n              <ion-label class=\\\"ion-text-center\\\">\\n                <ion-text color=\\\"wellness\\\">No hay registros.</ion-text>\\n              </ion-label>\\n            </ion-item>\\n            <ion-item lines=\\\"none\\\" *ngFor=\\\"let resource of resources\\\" detail (click)=\\\"detail(resource)\\\" color=\\\"wellness\\\">\\n              <ion-label>\\n                <p class=\\\"type\\\"><strong>{{ resource.type.name }}</strong></p>\\n                <p class=\\\"name\\\">{{ resource.name }}</p>\\n              </ion-label>\\n              <ion-icon [name]=\\\"resource.icon\\\" slot=\\\"start\\\"></ion-icon>\\n            </ion-item>\\n          </ion-list>\\n        </ion-col>\\n      </ng-template>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ResourcesListPage } from './resources-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ResourcesListPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ResourcesListPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ResourcesListPageRoutingModule } from './resources-list-routing.module';\n\nimport { ResourcesListPage } from './resources-list.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ResourcesListPageRoutingModule\n  ],\n  declarations: [ResourcesListPage]\n})\nexport class ResourcesListPageModule {}\n","export default \"ion-item {\\n  margin: 10px;\\n}\\n\\nion-icon {\\n  color: #99c566;\\n}\\n\\np.type {\\n  color: #99c566 !important;\\n  font-size: 1.1em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvaG9tZS9yZXNvdXJjZXMvcmVzb3VyY2VzLWxpc3QvcmVzb3VyY2VzLWxpc3QucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtBQUNGOztBQUVBO0VBQ0UsY0FBQTtBQUNGOztBQUVBO0VBQ0UseUJBQUE7RUFDQSxnQkFBQTtBQUNGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvaG9tZS9yZXNvdXJjZXMvcmVzb3VyY2VzLWxpc3QvcmVzb3VyY2VzLWxpc3QucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWl0ZW17XG4gIG1hcmdpbjogMTBweDtcbn1cblxuaW9uLWljb257XG4gIGNvbG9yOiAjOTljNTY2O1xufVxuXG5wLnR5cGUge1xuICBjb2xvcjogIzk5YzU2NiAhaW1wb3J0YW50O1xuICBmb250LXNpemU6MS4xZW07XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { NavController } from '@ionic/angular';\nimport { ApiService } from 'src/app/services/api/api.service';\nimport { GlobalService } from 'src/app/services/global/global.service';\n\n@Component({\n  selector: 'app-resources-list',\n  templateUrl: './resources-list.page.html',\n  styleUrls: ['./resources-list.page.scss'],\n})\n\nexport class ResourcesListPage implements OnInit {\n\n  topicId: any;\n  resources: any = [];\n  topic: any = {};\n  isLoading: boolean = true;\n  icons: any = {\n    'Enlace': 'link',\n    'Libro': 'book',\n    'Nota': 'clipboard',\n    'Video': 'videocam',\n    'Audio': 'musical-note'\n  };\n\n  constructor(private route: ActivatedRoute,\n              private router: Router,\n              private navCtrl: NavController,\n              private apiSrv: ApiService,\n              private globalSrv: GlobalService) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    this.route.paramMap.subscribe(paramMap => {\n      if (!paramMap.has('topicId')) {\n        this.navCtrl.setDirection('root');\n        this.router.navigate(['/tablinks/resources']);\n        return;\n      }\n      this.topicId = paramMap.get('topicId');\n      this.loadData();\n    });\n  }\n\n  /**\n   * Load data\n   */\n  async loadData() {\n    // this.globalSrv.showLoading();\n    this.isLoading = true;\n    this.resources = [];\n    let topic;\n    let resources;\n    try {\n      topic = await this.apiSrv.getTopic(this.topicId).toPromise();\n      // topic = null;\n    } catch(e){\n      console.error(e);\n      topic = null;\n    }\n\n    if (!topic) {\n      this.globalSrv.hideLoading();\n      this.globalSrv.showAlert('Error', 'No se puede obtener el tema ni recursos.', ['Aceptar']);\n      return;\n    }\n    this.topic = {...topic};\n    this.resources = Object.hasOwnProperty.call(this.topic, 'resources') ? [...this.topic.resources] : [];\n    this.resources = this.resources.map(r => {\n      r['icon'] = Object.hasOwnProperty.call(this.icons,r.type.name) ? this.icons[r.type.name] : 'help';\n      return r;\n    });\n    // this.globalSrv.hideLoading();\n    this.isLoading = false;\n  }\n\n  detail(resource) {\n    console.log(resource);\n    this.router.navigate(['tablinks/resources/detail', resource.id]);\n  }\n\n}\n"],"sourceRoot":"webpack:///"}