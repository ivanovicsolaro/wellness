{"version":3,"sources":["./src/app/pages/create-account/create-account.page.html","./src/app/pages/create-account/create-account-routing.module.ts","./src/app/pages/create-account/create-account.module.ts","./src/app/pages/create-account/create-account.page.scss","./src/app/pages/create-account/create-account.page.ts"],"names":[],"mappings":"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","file":"pages-create-account-create-account-module-es2015.js","sourcesContent":["export default \"<ion-content fullscreen=\\\"true\\\">\\n  <div class=\\\"background\\\">\\n    <img class=\\\"logo-image\\\" src=\\\"assets/logo.png\\\" alt=\\\"Wellness\\\">\\n    <div class=\\\"title\\\">\\n      SERVICIOS PROFECIONALES DE BIENESTAR\\n    </div>\\n    <div class=\\\"grid-container\\\">\\n      <form [formGroup]=\\\"createAccountForm\\\" (submit)=\\\"createAccount()\\\">\\n        <ion-grid>\\n          <ion-row>\\n            <ion-col size=\\\"10\\\" offset=\\\"1\\\">\\n              <ion-item>\\n                <ion-label position=\\\"stacked\\\">Código Empresa</ion-label>\\n                <ion-input type=\\\"text\\\" formControlName=\\\"companyCode\\\" clearInput></ion-input>\\n              </ion-item>\\n            </ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"10\\\" offset=\\\"1\\\">\\n              <ion-button type=\\\"submit\\\" expand=\\\"block\\\" color=\\\"medium\\\">CREAR MI CUENTA</ion-button>\\n            </ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"10\\\" offset=\\\"1\\\">\\n              <ion-button expand=\\\"block\\\" color=\\\"success\\\" routerLink=\\\"/login\\\" routerDirection=\\\"forward\\\">INICIAR SESIÓN</ion-button>\\n            </ion-col>\\n          </ion-row>\\n        </ion-grid>\\n      </form>\\n    </div>\\n  </div>\\n  <ion-fab vertical=\\\"top\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button color=\\\"wellness\\\" routerLink=\\\"/login\\\" routerDirection=\\\"forward\\\">\\n      <ion-icon name=\\\"arrow-back-circle-outline\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\\n<app-footer-login></app-footer-login>\\n<!-- <ion-footer>\\n  <ion-toolbar color=\\\"wellness\\\" class=\\\"ion-text-center\\\">\\n    <a style=\\\"color: white;\\\">¿Necesitas ayuda para ingresar?</a>\\n  </ion-toolbar>\\n</ion-footer> -->\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CreateAccountPage } from './create-account.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CreateAccountPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CreateAccountPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CreateAccountPageRoutingModule } from './create-account-routing.module';\n\nimport { CreateAccountPage } from './create-account.page';\nimport { FooterLoginModule } from 'src/app/components/footer-login/footer-login.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    CreateAccountPageRoutingModule,\n    FooterLoginModule\n  ],\n  declarations: [CreateAccountPage]\n})\nexport class CreateAccountPageModule {}\n","export default \"ion-toolbar.header {\\n  --background: transparent;\\n  --ion-color-base: transparent !important;\\n}\\n\\n.background {\\n  background-image: url('background-min.jpg');\\n  height: 100%;\\n  width: 100%;\\n  background-repeat: no-repeat;\\n  background-size: cover;\\n  background-position: center;\\n}\\n\\nimg.logo-image {\\n  max-width: 50%;\\n}\\n\\ndiv.title {\\n  background: #346699;\\n  color: white;\\n  text-align: center;\\n  font-size: 1.1em;\\n  font-weight: bold;\\n  text-transform: uppercase;\\n  padding: 15px;\\n}\\n\\ndiv.grid-container {\\n  position: absolute;\\n  width: 100%;\\n  bottom: 10%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY3JlYXRlLWFjY291bnQvY3JlYXRlLWFjY291bnQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUUseUJBQUE7RUFDQSx3Q0FBQTtBQUFGOztBQUVBO0VBQ0UsMkNBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLDRCQUFBO0VBQ0Esc0JBQUE7RUFDQSwyQkFBQTtBQUNGOztBQUNBO0VBQ0UsY0FBQTtBQUVGOztBQUFBO0VBQ0UsbUJBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EseUJBQUE7RUFDQSxhQUFBO0FBR0Y7O0FBREE7RUFDRSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0FBSUYiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9jcmVhdGUtYWNjb3VudC9jcmVhdGUtYWNjb3VudC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tdG9vbGJhci5oZWFkZXIge1xuICAvLyAtLWJhY2tncm91bmQ6IHJlZDtcbiAgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgLS1pb24tY29sb3ItYmFzZTogdHJhbnNwYXJlbnQgIWltcG9ydGFudDtcbn1cbi5iYWNrZ3JvdW5kIHtcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKC4uLy4uLy4uL2Fzc2V0cy9sb2dpbi9iYWNrZ3JvdW5kLW1pbi5qcGcpO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XG59XG5pbWcubG9nby1pbWFnZSB7XG4gIG1heC13aWR0aDogNTAlO1xufVxuZGl2LnRpdGxle1xuICBiYWNrZ3JvdW5kOiAjMzQ2Njk5O1xuICBjb2xvcjogd2hpdGU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC1zaXplOiAxLjFlbTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gIHBhZGRpbmc6IDE1cHg7XG59XG5kaXYuZ3JpZC1jb250YWluZXJ7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvdHRvbTogMTAlO1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AlertController, MenuController } from '@ionic/angular';\nimport { ApiService } from 'src/app/services/api/api.service';\n\n@Component({\n  selector: 'app-create-account',\n  templateUrl: './create-account.page.html',\n  styleUrls: ['./create-account.page.scss'],\n})\n\nexport class CreateAccountPage implements OnInit {\n\n  createAccountForm: FormGroup;\n\n  constructor(private alertCtrl: AlertController,\n              private menuCtrl: MenuController,\n              private apiSrv: ApiService,\n              private router: Router,\n              private formBuilder: FormBuilder) { \n    this.initForm();\n  }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter()\n  {\n    this.menuCtrl.enable(false);\n  }\n\n  /**\n   * Check if a company code exists and redirect to register form\n   */\n  async createAccount() {\n    if (!this.createAccountForm.valid) {\n      const header = 'Error';\n      let message = '';\n      const fields = {\n        'companyCode': 'Código Empresa'\n      };\n      Object.keys(this.createAccountForm.controls).forEach(key => {\n        const formControl = this.createAccountForm.controls[key];\n        if (!formControl.valid) {\n          message += `<p>El campo ${fields[key]} es requerido.</p>`;\n        }\n      });\n      this.showAlert(header, message,['Aceptar']);\n      return;\n    }\n\n    let response;\n    const companyCode = this.createAccountForm.get('companyCode').value;\n    try {\n      response = await this.apiSrv.checkCompanyCode(companyCode).toPromise();\n    } catch (e) {\n      let message = e;\n      if (e && Object.hasOwnProperty.call(e, 'error') && Object.hasOwnProperty.call(e.error, 'message')) {\n        message = e.error.message;\n      }\n      this.showAlert('Error', message);\n      return;\n    }\n\n    if (response) {\n      console.log(response);\n      this.router.navigate(['/register', companyCode]);\n    }\n  }\n\n\n  ionViewWillLeave()\n  {\n    this.menuCtrl.enable(true);\n  }\n\n  /**\n   * Initialize form\n   */\n  private initForm() {\n    this.createAccountForm = this.formBuilder.group({\n      companyCode: [null, Validators.required]\n    });\n  }\n\n  /**\n   * Show an alert with custom header. message and buttons\n   * @param header \n   * @param message \n   * @param buttons \n   */\n  private async showAlert(header: string, message: string, buttons: any = []) {\n\n    if (buttons.length <= 0) buttons = ['Aceptar'];\n\n    const alert = await this.alertCtrl.create({\n      header,\n      message,\n      buttons\n    });\n\n    return await alert.present();\n  }\n\n}\n"],"sourceRoot":"webpack:///"}