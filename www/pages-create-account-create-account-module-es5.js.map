{"version":3,"sources":["webpack:///src/app/pages/create-account/create-account.page.html","webpack:///src/app/pages/create-account/create-account-routing.module.ts","webpack:///src/app/pages/create-account/create-account.module.ts","webpack:///src/app/pages/create-account/create-account.page.scss","webpack:///src/app/pages/create-account/create-account.page.ts"],"names":["routes","path","component","CreateAccountPageRoutingModule","imports","forChild","exports","CreateAccountPageModule","declarations","CreateAccountPage","alertCtrl","menuCtrl","apiSrv","router","formBuilder","initForm","enable","createAccountForm","valid","header","message","fields","Object","keys","controls","forEach","key","formControl","showAlert","companyCode","get","value","checkCompanyCode","toPromise","response","hasOwnProperty","call","error","console","log","navigate","group","required","buttons","length","create","alert","present","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,8BAA8B;AAAA;AAAA,O;;AAA9BA,oCAA8B,6DAJ1C,+DAAS;AACRC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAI0C,GAA9BH,8BAA8B,CAA9B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCMAI,uBAAuB;AAAA;AAAA,O;;AAAvBA,6BAAuB,6DAXnC,+DAAS;AACRH,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,kEAHO,EAIP,0DAJO,EAKP,6FALO,EAMP,qGANO,CADD;AASRI,oBAAY,EAAE,CAAC,sEAAD;AATN,OAAT,CAWmC,GAAvBD,uBAAuB,CAAvB;;;;;;;;;;;;;;;;ACtBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCYFE,iBAAiB;AAI5B,mCAAoBC,SAApB,EACoBC,QADpB,EAEoBC,MAFpB,EAGoBC,MAHpB,EAIoBC,WAJpB,EAI8C;AAAA;;AAJ1B,eAAAJ,SAAA,GAAAA,SAAA;AACA,eAAAC,QAAA,GAAAA,QAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACA,eAAAC,WAAA,GAAAA,WAAA;AAClB,eAAKC,QAAL;AACD;;AAV2B;AAAA;AAAA,iBAY5B,oBAAW,CACV;AAb2B;AAAA;AAAA,iBAe5B,4BAAgB;AAEd,iBAAKJ,QAAL,CAAcK,MAAd,CAAqB,KAArB;AACD;AAED;;;;AApB4B;AAAA;AAAA,iBAuBtB,yBAAgB;;;;;;;;;;0BACf,KAAKC,iBAAL,CAAuBC,K;;;;;AACpBC,4B,GAAS,O;AACXC,6B,GAAU,E;AACRC,4B,GAAS;AACb,uCAAe;AADF,uB;AAGfC,4BAAM,CAACC,IAAP,CAAY,KAAKN,iBAAL,CAAuBO,QAAnC,EAA6CC,OAA7C,CAAqD,UAAAC,GAAG,EAAI;AAC1D,4BAAMC,WAAW,GAAG,KAAI,CAACV,iBAAL,CAAuBO,QAAvB,CAAgCE,GAAhC,CAApB;;AACA,4BAAI,CAACC,WAAW,CAACT,KAAjB,EAAwB;AACtBE,iCAAO,0BAAmBC,MAAM,CAACK,GAAD,CAAzB,uBAAP;AACD;AACF,uBALD;AAMA,2BAAKE,SAAL,CAAeT,MAAf,EAAuBC,OAAvB,EAA+B,CAAC,SAAD,CAA/B;;;;AAKIS,iC,GAAc,KAAKZ,iBAAL,CAAuBa,GAAvB,CAA2B,aAA3B,EAA0CC,K;;;AAEjD,6BAAM,KAAKnB,MAAL,CAAYoB,gBAAZ,CAA6BH,WAA7B,EAA0CI,SAA1C,EAAN;;;AAAXC,8B;;;;;;;AAEId,8B;;AACJ,0BAAI,eAAKE,MAAM,CAACa,cAAP,CAAsBC,IAAtB,cAA8B,OAA9B,CAAL,IAA+Cd,MAAM,CAACa,cAAP,CAAsBC,IAAtB,CAA2B,YAAEC,KAA7B,EAAoC,SAApC,CAAnD,EAAmG;AACjGjB,gCAAO,GAAG,YAAEiB,KAAF,CAAQjB,OAAlB;AACD;;AACD,2BAAKQ,SAAL,CAAe,OAAf,EAAwBR,QAAxB;;;;AAIF,0BAAIc,QAAJ,EAAc;AACZI,+BAAO,CAACC,GAAR,CAAYL,QAAZ;AACA,6BAAKrB,MAAL,CAAY2B,QAAZ,CAAqB,CAAC,WAAD,EAAcX,WAAd,CAArB;AACD;;;;;;;;;AACF;AAzD2B;AAAA;AAAA,iBA4D5B,4BAAgB;AAEd,iBAAKlB,QAAL,CAAcK,MAAd,CAAqB,IAArB;AACD;AAED;;;;AAjE4B;AAAA;AAAA,iBAoEpB,oBAAW;AACjB,iBAAKC,iBAAL,GAAyB,KAAKH,WAAL,CAAiB2B,KAAjB,CAAuB;AAC9CZ,yBAAW,EAAE,CAAC,IAAD,EAAO,0DAAWa,QAAlB;AADiC,aAAvB,CAAzB;AAGD;AAED;;;;;;;AA1E4B;AAAA;AAAA,iBAgFd,mBAAUvB,MAAV,EAA0BC,OAA1B,EAA8D;AAAA,gBAAnBuB,OAAmB,uEAAJ,EAAI;;;;;;;AAE1E,0BAAIA,OAAO,CAACC,MAAR,IAAkB,CAAtB,EAAyBD,OAAO,GAAG,CAAC,SAAD,CAAV;;AAEX,6BAAM,KAAKjC,SAAL,CAAemC,MAAf,CAAsB;AACxC1B,8BAAM,EAANA,MADwC;AAExCC,+BAAO,EAAPA,OAFwC;AAGxCuB,+BAAO,EAAPA;AAHwC,uBAAtB,CAAN;;;AAARG,2B;;AAMC,6BAAMA,KAAK,CAACC,OAAN,EAAN;;;;;;;;;;;;AACR;AA3F2B;;AAAA;AAAA,S;;;;gBATrB;;gBAAiB;;gBACjB;;gBAFA;;gBADA;;;;AAWItC,uBAAiB,6DAN7B,gEAAU;AACTuC,gBAAQ,EAAE,oBADD;AAETC,gBAAQ,EAAR;AAAA;AAAA,oHAFS;;;;AAAA,OAAV,CAM6B,GAAjBxC,iBAAiB,CAAjB","file":"pages-create-account-create-account-module-es5.js","sourcesContent":["export default \"<ion-content fullscreen=\\\"true\\\">\\n  <div class=\\\"background\\\">\\n    <img class=\\\"logo-image\\\" src=\\\"assets/logo.png\\\" alt=\\\"Wellness\\\">\\n    <div class=\\\"title\\\">\\n      SERVICIOS PROFECIONALES DE BIENESTAR\\n    </div>\\n    <div class=\\\"grid-container\\\">\\n      <form [formGroup]=\\\"createAccountForm\\\" (submit)=\\\"createAccount()\\\">\\n        <ion-grid>\\n          <ion-row>\\n            <ion-col size=\\\"10\\\" offset=\\\"1\\\">\\n              <ion-item>\\n                <ion-label position=\\\"stacked\\\">Código Empresa</ion-label>\\n                <ion-input type=\\\"text\\\" formControlName=\\\"companyCode\\\" clearInput></ion-input>\\n              </ion-item>\\n            </ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"10\\\" offset=\\\"1\\\">\\n              <ion-button type=\\\"submit\\\" expand=\\\"block\\\" color=\\\"medium\\\">CREAR MI CUENTA</ion-button>\\n            </ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col size=\\\"10\\\" offset=\\\"1\\\">\\n              <ion-button expand=\\\"block\\\" color=\\\"success\\\" routerLink=\\\"/login\\\" routerDirection=\\\"forward\\\">INICIAR SESIÓN</ion-button>\\n            </ion-col>\\n          </ion-row>\\n        </ion-grid>\\n      </form>\\n    </div>\\n  </div>\\n  <ion-fab vertical=\\\"top\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button color=\\\"wellness\\\" routerLink=\\\"/login\\\" routerDirection=\\\"forward\\\">\\n      <ion-icon name=\\\"arrow-back-circle-outline\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\\n<app-footer-login></app-footer-login>\\n<!-- <ion-footer>\\n  <ion-toolbar color=\\\"wellness\\\" class=\\\"ion-text-center\\\">\\n    <a style=\\\"color: white;\\\">¿Necesitas ayuda para ingresar?</a>\\n  </ion-toolbar>\\n</ion-footer> -->\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CreateAccountPage } from './create-account.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CreateAccountPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CreateAccountPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CreateAccountPageRoutingModule } from './create-account-routing.module';\n\nimport { CreateAccountPage } from './create-account.page';\nimport { FooterLoginModule } from 'src/app/components/footer-login/footer-login.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    CreateAccountPageRoutingModule,\n    FooterLoginModule\n  ],\n  declarations: [CreateAccountPage]\n})\nexport class CreateAccountPageModule {}\n","export default \"ion-toolbar.header {\\n  --background: transparent;\\n  --ion-color-base: transparent !important;\\n}\\n\\n.background {\\n  background-image: url('background-min.jpg');\\n  height: 100%;\\n  width: 100%;\\n  background-repeat: no-repeat;\\n  background-size: cover;\\n  background-position: center;\\n}\\n\\nimg.logo-image {\\n  max-width: 50%;\\n}\\n\\ndiv.title {\\n  background: #346699;\\n  color: white;\\n  text-align: center;\\n  font-size: 1.1em;\\n  font-weight: bold;\\n  text-transform: uppercase;\\n  padding: 15px;\\n}\\n\\ndiv.grid-container {\\n  position: absolute;\\n  width: 100%;\\n  bottom: 10%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY3JlYXRlLWFjY291bnQvY3JlYXRlLWFjY291bnQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUUseUJBQUE7RUFDQSx3Q0FBQTtBQUFGOztBQUVBO0VBQ0UsMkNBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLDRCQUFBO0VBQ0Esc0JBQUE7RUFDQSwyQkFBQTtBQUNGOztBQUNBO0VBQ0UsY0FBQTtBQUVGOztBQUFBO0VBQ0UsbUJBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EseUJBQUE7RUFDQSxhQUFBO0FBR0Y7O0FBREE7RUFDRSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0FBSUYiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9jcmVhdGUtYWNjb3VudC9jcmVhdGUtYWNjb3VudC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tdG9vbGJhci5oZWFkZXIge1xuICAvLyAtLWJhY2tncm91bmQ6IHJlZDtcbiAgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgLS1pb24tY29sb3ItYmFzZTogdHJhbnNwYXJlbnQgIWltcG9ydGFudDtcbn1cbi5iYWNrZ3JvdW5kIHtcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKC4uLy4uLy4uL2Fzc2V0cy9sb2dpbi9iYWNrZ3JvdW5kLW1pbi5qcGcpO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XG59XG5pbWcubG9nby1pbWFnZSB7XG4gIG1heC13aWR0aDogNTAlO1xufVxuZGl2LnRpdGxle1xuICBiYWNrZ3JvdW5kOiAjMzQ2Njk5O1xuICBjb2xvcjogd2hpdGU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC1zaXplOiAxLjFlbTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gIHBhZGRpbmc6IDE1cHg7XG59XG5kaXYuZ3JpZC1jb250YWluZXJ7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvdHRvbTogMTAlO1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AlertController, MenuController } from '@ionic/angular';\nimport { ApiService } from 'src/app/services/api/api.service';\n\n@Component({\n  selector: 'app-create-account',\n  templateUrl: './create-account.page.html',\n  styleUrls: ['./create-account.page.scss'],\n})\n\nexport class CreateAccountPage implements OnInit {\n\n  createAccountForm: FormGroup;\n\n  constructor(private alertCtrl: AlertController,\n              private menuCtrl: MenuController,\n              private apiSrv: ApiService,\n              private router: Router,\n              private formBuilder: FormBuilder) { \n    this.initForm();\n  }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter()\n  {\n    this.menuCtrl.enable(false);\n  }\n\n  /**\n   * Check if a company code exists and redirect to register form\n   */\n  async createAccount() {\n    if (!this.createAccountForm.valid) {\n      const header = 'Error';\n      let message = '';\n      const fields = {\n        'companyCode': 'Código Empresa'\n      };\n      Object.keys(this.createAccountForm.controls).forEach(key => {\n        const formControl = this.createAccountForm.controls[key];\n        if (!formControl.valid) {\n          message += `<p>El campo ${fields[key]} es requerido.</p>`;\n        }\n      });\n      this.showAlert(header, message,['Aceptar']);\n      return;\n    }\n\n    let response;\n    const companyCode = this.createAccountForm.get('companyCode').value;\n    try {\n      response = await this.apiSrv.checkCompanyCode(companyCode).toPromise();\n    } catch (e) {\n      let message = e;\n      if (e && Object.hasOwnProperty.call(e, 'error') && Object.hasOwnProperty.call(e.error, 'message')) {\n        message = e.error.message;\n      }\n      this.showAlert('Error', message);\n      return;\n    }\n\n    if (response) {\n      console.log(response);\n      this.router.navigate(['/register', companyCode]);\n    }\n  }\n\n\n  ionViewWillLeave()\n  {\n    this.menuCtrl.enable(true);\n  }\n\n  /**\n   * Initialize form\n   */\n  private initForm() {\n    this.createAccountForm = this.formBuilder.group({\n      companyCode: [null, Validators.required]\n    });\n  }\n\n  /**\n   * Show an alert with custom header. message and buttons\n   * @param header \n   * @param message \n   * @param buttons \n   */\n  private async showAlert(header: string, message: string, buttons: any = []) {\n\n    if (buttons.length <= 0) buttons = ['Aceptar'];\n\n    const alert = await this.alertCtrl.create({\n      header,\n      message,\n      buttons\n    });\n\n    return await alert.present();\n  }\n\n}\n"]}