{"version":3,"sources":["webpack:///src/app/pages/home/resources/resources-list/resources-list.page.html","webpack:///src/app/pages/home/resources/resources-list/resources-list-routing.module.ts","webpack:///src/app/pages/home/resources/resources-list/resources-list.module.ts","webpack:///src/app/pages/home/resources/resources-list/resources-list.page.scss","webpack:///src/app/pages/home/resources/resources-list/resources-list.page.ts"],"names":["routes","path","component","ResourcesListPageRoutingModule","imports","forChild","exports","ResourcesListPageModule","declarations","ResourcesListPage","route","router","navCtrl","apiSrv","globalSrv","resources","topic","isLoading","icons","paramMap","subscribe","has","setDirection","navigate","topicId","get","loadData","getTopic","toPromise","console","error","hideLoading","showAlert","Object","hasOwnProperty","call","map","r","type","name","resource","log","id","selector","template"],"mappings":"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","file":"resources-list-resources-list-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"wellness\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"tablinks/resources\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Recursos Por Tema</ion-title>\\n    <ion-buttons slot=\\\"primary\\\">\\n      <ion-button (click)=\\\"loadData()\\\">\\n        <ion-icon name=\\\"sync\\\" slot=\\\"icon-only\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <ion-grid class=\\\"ion-no-padding\\\">\\n    <ion-row>\\n      <ion-col class=\\\"ion-text-center grid-title\\\">\\n        <ion-text color=\\\"wellness\\\">Tema: {{ topic?.name }}</ion-text>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col class=\\\"ion-text-center ion-padding\\\" *ngIf=\\\"isLoading; else loaded\\\">\\n        <ion-spinner></ion-spinner>\\n      </ion-col>\\n      <ng-template #loaded>\\n        <ion-col size=\\\"12\\\">\\n          <ion-list>\\n            <ion-item lines=\\\"full\\\" *ngIf=\\\"resources.length <= 0\\\">\\n              <ion-label class=\\\"ion-text-center\\\">\\n                <ion-text color=\\\"wellness\\\">No hay registros.</ion-text>\\n              </ion-label>\\n            </ion-item>\\n            <ion-item lines=\\\"none\\\" *ngFor=\\\"let resource of resources\\\" detail (click)=\\\"detail(resource)\\\" color=\\\"wellness\\\">\\n              <ion-label>\\n                <p class=\\\"type\\\"><strong>{{ resource.type.name }}</strong></p>\\n                <p class=\\\"name\\\">{{ resource.name }}</p>\\n              </ion-label>\\n              <ion-icon [name]=\\\"resource.icon\\\" slot=\\\"start\\\"></ion-icon>\\n            </ion-item>\\n          </ion-list>\\n        </ion-col>\\n      </ng-template>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ResourcesListPage } from './resources-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ResourcesListPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ResourcesListPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ResourcesListPageRoutingModule } from './resources-list-routing.module';\n\nimport { ResourcesListPage } from './resources-list.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ResourcesListPageRoutingModule\n  ],\n  declarations: [ResourcesListPage]\n})\nexport class ResourcesListPageModule {}\n","export default \"ion-item {\\n  margin: 10px;\\n}\\n\\nion-icon {\\n  color: #99c566;\\n}\\n\\np.type {\\n  color: #99c566 !important;\\n  font-size: 1.1em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvaG9tZS9yZXNvdXJjZXMvcmVzb3VyY2VzLWxpc3QvcmVzb3VyY2VzLWxpc3QucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtBQUNGOztBQUVBO0VBQ0UsY0FBQTtBQUNGOztBQUVBO0VBQ0UseUJBQUE7RUFDQSxnQkFBQTtBQUNGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvaG9tZS9yZXNvdXJjZXMvcmVzb3VyY2VzLWxpc3QvcmVzb3VyY2VzLWxpc3QucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWl0ZW17XG4gIG1hcmdpbjogMTBweDtcbn1cblxuaW9uLWljb257XG4gIGNvbG9yOiAjOTljNTY2O1xufVxuXG5wLnR5cGUge1xuICBjb2xvcjogIzk5YzU2NiAhaW1wb3J0YW50O1xuICBmb250LXNpemU6MS4xZW07XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { NavController } from '@ionic/angular';\nimport { ApiService } from 'src/app/services/api/api.service';\nimport { GlobalService } from 'src/app/services/global/global.service';\n\n@Component({\n  selector: 'app-resources-list',\n  templateUrl: './resources-list.page.html',\n  styleUrls: ['./resources-list.page.scss'],\n})\n\nexport class ResourcesListPage implements OnInit {\n\n  topicId: any;\n  resources: any = [];\n  topic: any = {};\n  isLoading: boolean = true;\n  icons: any = {\n    'Enlace': 'link',\n    'Libro': 'book',\n    'Nota': 'clipboard',\n    'Video': 'videocam',\n    'Audio': 'musical-note'\n  };\n\n  constructor(private route: ActivatedRoute,\n              private router: Router,\n              private navCtrl: NavController,\n              private apiSrv: ApiService,\n              private globalSrv: GlobalService) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    this.route.paramMap.subscribe(paramMap => {\n      if (!paramMap.has('topicId')) {\n        this.navCtrl.setDirection('root');\n        this.router.navigate(['/tablinks/resources']);\n        return;\n      }\n      this.topicId = paramMap.get('topicId');\n      this.loadData();\n    });\n  }\n\n  /**\n   * Load data\n   */\n  async loadData() {\n    // this.globalSrv.showLoading();\n    this.isLoading = true;\n    this.resources = [];\n    let topic;\n    let resources;\n    try {\n      topic = await this.apiSrv.getTopic(this.topicId).toPromise();\n      // topic = null;\n    } catch(e){\n      console.error(e);\n      topic = null;\n    }\n\n    if (!topic) {\n      this.globalSrv.hideLoading();\n      this.globalSrv.showAlert('Error', 'No se puede obtener el tema ni recursos.', ['Aceptar']);\n      return;\n    }\n    this.topic = {...topic};\n    this.resources = Object.hasOwnProperty.call(this.topic, 'resources') ? [...this.topic.resources] : [];\n    this.resources = this.resources.map(r => {\n      r['icon'] = Object.hasOwnProperty.call(this.icons,r.type.name) ? this.icons[r.type.name] : 'help';\n      return r;\n    });\n    // this.globalSrv.hideLoading();\n    this.isLoading = false;\n  }\n\n  detail(resource) {\n    console.log(resource);\n    this.router.navigate(['tablinks/resources/detail', resource.id]);\n  }\n\n}\n"]}